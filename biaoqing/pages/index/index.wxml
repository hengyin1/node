<!--index.wxml-->
<view class="container">

  <view class="pic-box flex-row-center">
    <view style="position: relative;">
      <image wx:if="{{temInfo.path}}" src="{{temInfo.path}}" style="display: block;width: {{temInfo.width}}px;height: {{temInfo.height}}px;" />
      <image wx:if="{{faceInfo.path}}" src="{{faceInfo.path}}" style="display: block;position: absolute;left: {{faceInfo.left}}px;top: {{faceInfo.top}}px;width: {{faceInfo.width}}px;height: {{faceInfo.height}}px;" />
    </view>
  </view>

  <view>
    <view class="up-tab flex-row">
      <view class="up-tab-item" wx:for="{{upTabs}}" wx:key="index" data-index="{{item.value}}" bind:tap="tapUpTab">
        <view class="{{selectedUpTab == item.value ? 'up-tab-item-active' : ''}}">{{item.name}}</view>
      </view>
    </view>
    
    <scroll-view class="down-tab" scroll-x="{{true}}" scroll-into-view="">
      <view class="flex-row flex-align-items" style="width: {{downTabs.length * 110}}rpx;">
        <view class="down-tab-item" wx:for="{{downTabs}}" wx:key="index" data-index="{{item.value}}" bind:tap="tapDownTab">
          <view class="{{(selectedUpTab == 'tem' && temTabIndex == item.value || selectedUpTab == 'face' && faceTabIndex == item.value) ? 'down-tab-item-active' : ''}}">{{item.name}}</view>
        </view>
      </view>
    </scroll-view>

    <scroll-view class="lists-box" scroll-y="{{true}}">
      <view class="lists flex-row flex-wrap">
        <view wx:for="{{list}}" wx:key="index" data-index="{{index}}" bind:tap="chooseItem">
          <image class="list-item-image" src="{{item.url}}" mode="aspectFit" lazy-load="{{true}}" />
        </view>
      </view>
      <view class="to-bottom">...到底啦...</view>
    </scroll-view>

    <view class="flex-row-center" style="padding: 30rpx 0;">
      <button class="button ch-button" bindtap="changeImage">加文字</button>
      <button class="button" type="primary" bindtap="saveImage" style="background-color: #07c160;">保存</button>
    </view>
  </view>
<!-- 
   <canvas class="canvas" canvas-id="drawer" bindtouchstart="" bindtouchmove="" bindtouchend="" 
    bindtouchcancel=""></canvas> -->
</view>
